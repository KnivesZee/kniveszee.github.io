<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta name="baidu-site-verification" content="UqlC4pwKIm">
  <meta name="baidu-site-verification" content="d3U0dGeqGw">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="google-site-verification" content="1C1XSuJ8TgM2O0mcZvsgzEdy0IdRZOJfxDYPyh18U9Q">














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.cat.net/css?family=Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="math,">










<meta name="description" content="矩阵理论作为数学的一个分支，广泛应用于科学和工程中。尤其是计算机科学技术中，掌握好矩阵理论对于理解和从事机器学习算法相关工作是很有必要的，尤其对于深度学习算法而言。 因此，本文首先集中探讨一些用于深度学习中的矩阵基础知识，然后再引入一个简单的机器学习算法——主成分分析，并且通过基础的矩阵理论知识进行简单的S推倒。 一、标量、向量、矩阵和张量学习线性代数，会涉及以下几类数学概念： 标量：一个标量就是">
<meta name="keywords" content="math">
<meta property="og:type" content="article">
<meta property="og:title" content="矩阵理论在深度学习中的应用即主成分分析">
<meta property="og:url" content="http://knivezee.site/2017/12/18/2017-12-18-matrix-yingyong/index.html">
<meta property="og:site_name" content="拾碎集">
<meta property="og:description" content="矩阵理论作为数学的一个分支，广泛应用于科学和工程中。尤其是计算机科学技术中，掌握好矩阵理论对于理解和从事机器学习算法相关工作是很有必要的，尤其对于深度学习算法而言。 因此，本文首先集中探讨一些用于深度学习中的矩阵基础知识，然后再引入一个简单的机器学习算法——主成分分析，并且通过基础的矩阵理论知识进行简单的S推倒。 一、标量、向量、矩阵和张量学习线性代数，会涉及以下几类数学概念： 标量：一个标量就是">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-12-03T08:04:35.486Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="矩阵理论在深度学习中的应用即主成分分析">
<meta name="twitter:description" content="矩阵理论作为数学的一个分支，广泛应用于科学和工程中。尤其是计算机科学技术中，掌握好矩阵理论对于理解和从事机器学习算法相关工作是很有必要的，尤其对于深度学习算法而言。 因此，本文首先集中探讨一些用于深度学习中的矩阵基础知识，然后再引入一个简单的机器学习算法——主成分分析，并且通过基础的矩阵理论知识进行简单的S推倒。 一、标量、向量、矩阵和张量学习线性代数，会涉及以下几类数学概念： 标量：一个标量就是">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://knivezee.site/2017/12/18/2017-12-18-matrix-yingyong/">





  <title>矩阵理论在深度学习中的应用即主成分分析 | 拾碎集</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-111723881-1', 'auto');
  ga('send', 'pageview');
</script>






  <style>
 	.forkme{
 		display: none;
	}
	@media (min-width: 768px) {
 		.forkme{
 			display: inline;
 		}
  	}
  </style>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <!-- github小猫 start -->
<!--     <a href="https://github.com/KnivesZee" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style> -->
	
	<div class="forkme">
	<a href="https://github.com/KnivesZee" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></a>
	</div>
    <!-- github小猫 end -->
    
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">拾碎集</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://knivezee.site/2017/12/18/2017-12-18-matrix-yingyong/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Knives">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://pj5mfieap.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="拾碎集">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">矩阵理论在深度学习中的应用即主成分分析</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-12-18T15:09:54+08:00">
                2017-12-18
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2018-12-03T16:04:35+08:00">
                2018-12-03
              </time>
            
          </span>

          

          
            
          

          
          
             <span id="/2017/12/18/2017-12-18-matrix-yingyong/" class="leancloud_visitors" data-flag-title="矩阵理论在深度学习中的应用即主成分分析">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  9,597
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  37
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>矩阵理论作为数学的一个分支，广泛应用于科学和工程中。尤其是计算机科学技术中，掌握好矩阵理论对于理解和从事机器学习算法相关工作是很有必要的，尤其对于深度学习算法而言。</p>
<p>因此，本文首先集中探讨一些用于深度学习中的矩阵基础知识，然后再引入一个简单的机器学习算法——主成分分析，并且通过基础的矩阵理论知识进行简单的S推倒。</p>
<h3 id="一、标量、向量、矩阵和张量"><a href="#一、标量、向量、矩阵和张量" class="headerlink" title="一、标量、向量、矩阵和张量"></a>一、标量、向量、矩阵和张量</h3><p>学习线性代数，会涉及以下几类数学概念：</p>
<p><strong>标量</strong>：一个标量就是一个单独的数，它不同于线性代数中研究的其他大部分对象（通常是多个数的数组）。我们用斜体表示标量。标量通常被赋予小写的变量名称。当我们介绍标量时，会明确它们是哪种类型的数。比如，在定义实数标量时，我们可能会说”令$s \in R$表示一条线的斜率”；在定义自然数标量时，我们可能会说”令$n \in N$表示元素的数目”。</p>
<p><strong>向量</strong>：一个向量是一列数。这些数是有序排列的。通过次序中的索引，我们可以确定每个单独的数。通常我们赋予向量粗体的小写变量名称，比如$Vx$。向量中的元素可以通过带脚标的斜体表示。`向量$x$的第一个元素是$x_1$，第二个元素是$x_2$，等等。我们也会注明存储在向量中的元素是什么类型的。如果每个元素都属于$R$，并且该向量有$n$个元素，那么该向量属于实数集$R$的$n$次笛卡尔乘积构成的集合，记为$R^n$。当需要明确表示向量中的元素时，我们会将元素排列成一个方括号包围的纵列：</p>
<p>$$<br>    \begin{equation}<br>        x=\begin{bmatrix} x_1   \<br>                            x_2   \<br>                            \vdots  \<br>                            x_n<br>                \end{bmatrix}.<br>    \end{equation}<br>$$<br>    我们可以把向量看作空间中的点，每个元素是不同坐标轴上的坐标。有时我们需要索引向量中的一些元素。在这种情况下，我们定义一个包含这些元素索引的集合，然后将该集合写在脚标处。比如，指定$x_1$，$x_3$和$x_6$，我们定义集合$S={1,3,6}$，然后写作$x_S$。我们用符号－表示集合的补集中的索引。比如$x_{-1}$表示$x$中除$x_1$外的所有元素，$x_{-S}$表示$x$中除$x_1$，$x_3$，$x_6$外所有元素构成的向量。</p>
<p><strong>矩阵</strong>：矩阵是一个二维数组，其中的每一个元素被两个索引（而非一个）所确定。我们通常会赋予矩阵粗体的大写变量名称，比如$A$。如果一个实数矩阵高度为$m$，宽度为$n$，那么我们说$A\in R^{m\times n}$。我们在表示矩阵中的元素时，通常以不加粗的斜体形式使用其名称，索引用逗号间隔。比如，$A_{1,1}$表示$A$左上的元素，$A_{m,n}$表示$A$右下的元素。我们通过用”:”表示水平坐标，以表示垂直坐标$i$中的所有元素。比如，$A_{i,:}$表示$A$中垂直坐标$i$上的一横排元素。这也被称为$A$的第$i$~行。同样地，$A_{:,i}$表示$A$的第$i$~列。当我们需要明确表示矩阵中的元素时，我们将它们写在用方括号括起来的数组中：</p>
<p>$$<br>    \left[<br>        \begin{matrix}<br>            A_{1,1} &amp; A_{1,2}\<br>            A_{2,1} &amp; A_{2,2}<br>        \end{matrix}<br>    \right]<br>$$<br>    有时我们需要索引矩阵值表达式，而这些表达式不是单个字母。在这种情况下，我们在表达式后面接下标，但不必将矩阵的变量名称小写化。比如，$f(A)_{i,j}$表示函数$f$作用在$A$上输出的矩阵的第$i$行第$j$列元素。</p>
<p><strong>张量</strong>：在某些情况下，我们会讨论坐标超过两维的数组。一般地，一个数组中的元素分布在若干维坐标的规则网格中，我们称之为张量。我们使用字体$A$来表示张量”A”。张量$A$中坐标为$(i,j,k)$的元素记作$A_{i,j,k}$。</p>
<p>转置是矩阵的重要操作之一。矩阵的转置是以对角线为轴的镜像，这条从左上角到右下角的对角线被称为主对角线。<br>我们将矩阵$A$的转置表示为$A^\top$，定义如下</p>
<p>$$<br>\begin{equation}<br>(A^\top){i,j}= A{j,i}.<br>\end{equation}<br>$$<br>向量可以看作只有一列的矩阵。对应地，向量的转置可以看作是只有一行的矩阵。有时，我们通过将向量元素作为行矩阵写在文本行中，然后使用转置操作将其变为标准的列向量，来定义一个向量，比如$x=[x_1, x_2, x_3]^\top$。<br>标量可以看作是只有一个元素的矩阵。因此，标量的转置等于它本身，$a=a^\top$。<br>只要矩阵的形状一样，我们可以把两个矩阵相加。两个矩阵相加是指对应位置的元素相加，比如$C=A+B$，其中$C_{i,j}= A_{i,j}+B_{i,j}$。<br>标量和矩阵相乘，或是和矩阵相加时，我们只需将其与矩阵的每个元素相乘或相加，比如$D = a \cdot B + c$，其中$D_{i,j} = a\cdot  B_{i,j} + c$。<br>在深度学习中，我们也使用一些不那么常规的符号。我们允许矩阵和向量相加，产生另一个矩阵：$C=A + b$，其中$C_{i,j}= A_{i,j} + b_{j}$。换言之，向量$b$和矩阵$A$的每一行相加。这个简写方法使我们无需在加法操作前定义一个将向量$b$复制到每一行而生成的矩阵。<br>这种隐式地复制向量$b$到很多位置的方式，被称为广播。</p>
<h3 id="二、矩阵和向量相乘"><a href="#二、矩阵和向量相乘" class="headerlink" title="二、矩阵和向量相乘"></a>二、矩阵和向量相乘</h3><p>矩阵乘法是矩阵运算中最重要的操作之一。两个矩阵$A$和$B$的矩阵乘积是第三个矩阵$C$。为了使乘法定义良好，矩阵$A$的列数必须和矩阵$B$的行数相等。如果矩阵$A$的形状是$m \times n$，矩阵$B$的形状是$n\times p$，那么矩阵$C$的形状是$m\times p$。我们可以通过将两个或多个矩阵并列放置以书写矩阵乘法，例如<br>$$<br>\begin{equation}<br>    C=AB.<br>\end{equation}<br>$$<br>具体地，该乘法操作定义为<br>$$<br>\begin{equation}<br>    C_{i,j}=\sum_k A_{i,k} B_{k,j}.<br>\end{equation}<br>$$</p>
<p>需要注意的是，两个矩阵的标准乘积指两个矩阵中对应元素的乘积。<br>不过，那样的矩阵操作确实是存在的，被称为元素对应乘积或者Hadamard乘积，记为$A\odot B$。</p>
<p>两个相同维数的向量$x$和$y$的点积可看作是矩阵乘积$x^\top y$。我们可以把矩阵乘积$C=AB$中计算$C_{i,j}$的步骤看作是$A$的第$i$行和$B$的第$j$列之间的点积。矩阵乘积运算有许多有用的性质，从而使矩阵的数学分析更加方便。<br>比如，矩阵乘积服从分配律：<br>$$<br>\begin{equation}<br>    A(B+C)=AB +AC.<br>\end{equation}<br>$$<br>矩阵乘积也服从结合律：<br>$$<br>\begin{equation}<br>A(BC)=(AB)C.<br>\end{equation}<br>$$</p>
<p>不同于标量乘积，矩阵乘积\emph{并不}满足交换律（$AB=BA$的情况并非总是满足）。<br>然而，两个向量的点积满足交换律：<br>$$<br>\begin{equation}<br>x^\top y=y^\top x.<br>\end{equation}<br>$$<br>矩阵乘积的转置有着简单的形式：<br>$$<br>\begin{equation}<br>(AB)^\top=B^\top A^\top.<br>\end{equation}<br>$$<br>利用两个向量点积的结果是标量，标量转置是自身的事实<br>$$<br>\begin{equation}<br>    x^\top y = \left(x^\top y \right)^\top = y^\top x.<br>\end{equation}<br>$$<br>现在我们已经知道了足够多的线性代数符号，可以表达下列线性方程组：<br>$$<br>\begin{equation}<br>Ax=b<br>\end{equation}<br>$$<br>其中$A\in R^{m\times n}$是一个已知矩阵，$b\in R^m$是一个已知向量，$x\in R^n$是一个我们要求解的未知向量。向量$x$的每一个元素$x_i$都是未知的。矩阵$A$的每一行和$b$中对应的元素构成一个约束。<br>我们可以重写为<br>$$<br>\begin{gather}<br>A_{1,:}x=b_1\<br>A_{2,:}x=b_2 \<br>\cdots \<br>A_{m,:}x=b_m<br>\end{gather}<br>$$<br>或者，更明确地，写作<br>$$<br>\begin{gather}<br>    A_{1,1}x_1+A_{1,2}x_2+\cdots A_{1,n}x_n = b_1\<br>    A_{2,1}x_1+A_{2,2}x_2+\cdots A_{2,n}x_n = b_2\<br>    \cdots\<br>    A_{m,1}x_1+A_{m,2}x_2+\cdots A_{m,n}x_n = b_m.<br>\end{gather}<br>$$<br>矩阵向量乘积符号为这种形式的方程提供了更紧凑的表示。</p>
<h3 id="三、单位矩阵和逆矩阵"><a href="#三、单位矩阵和逆矩阵" class="headerlink" title="三、单位矩阵和逆矩阵"></a>三、单位矩阵和逆矩阵</h3><p>线性代数提供了被称为矩阵逆的强大工具。对于大多数矩阵$A$，我们都能通过矩阵逆解析地求解$Ax=b$。为了描述矩阵逆，我们首先需要定义单位矩阵的概念。任意向量和单位矩阵相乘，都不会改变。我们将保持$n$维向量不变的单位矩阵记作$I_{n}$。形式上，$I_{n}\in R^{n\times n}$，<br>$$<br>\begin{equation}<br>    \forall x \in R^{n}, I_{n} x = x.<br>\end{equation}<br>$$<br>单位矩阵的结构很简单：所有沿主对角线的元素都是$1$，而所有其他位置的元素都是$0$。<br>矩阵$A$的矩阵逆记作$A^{-1}$，其定义的矩阵满足如下条件<br>\begin{equation} A^{-1}A = I_{n}. \end{equation}<br>现在我们可以通过以下步骤求解:</p>
<p>$$<br>\begin{gather}<br>Ax=b \<br>A^{-1}Ax = A^{-1}b \<br>I_{n} x=A^{-1}b \<br>x=A^{-1}b.<br>\end{gather}<br>$$<br>当然，这取决于我们能否找到一个逆矩阵$A^{-1}$。当逆矩阵$A^{-1}$存在时，有几种不同的算法都能找到它的闭解形式。理论上，相同的逆矩阵可用于多次求解不同向量$b$的方程。然而，逆矩阵$A^{-1}$主要是作为理论工具使用的，并不会在大多数软件应用程序中实际使用。这是因为逆矩阵$A^{-1}$在数字计算机上只能表现出有限的精度，有效使用向量$b$的算法通常可以得到更精确的$x$。</p>
<h3 id="四、线性相关和生成子空间"><a href="#四、线性相关和生成子空间" class="headerlink" title="四、线性相关和生成子空间"></a>四、线性相关和生成子空间</h3><p>如果逆矩阵$A^{-1}$存在，那么\eqn?肯定对于每一个向量$b$恰好存在一个解。<br>但是，对于方程组而言，对于向量$b$的某些值，有可能不存在解，或者存在无限多个解。<br>存在多于一个解但是少于无限多个解的情况是不可能发生的；因为如果$x$和$y$都是某方程组的解，则<br>$$<br>\begin{equation}<br>z=\alpha x + (1-\alpha) y<br>\end{equation}<br>$$<br>（其中$\alpha$取任意实数）也是该方程组的解。<br>为了分析方程有多少个解，我们可以将$A$的列向量看作从原点（元素都是零的向量）出发的不同方向，确定有多少种方法可以到达向量$b$。<br>在这个观点下，向量$x$中的每个元素表示我们应该沿着这些方向走多远，即$x_{i}$表示我们需要沿着第$i$个向量的方向走多远：<br>$$<br>\begin{equation}<br>A x = \sum_i x_i A_{:,i}.<br>\end{equation}<br>$$<br>一般而言，这种操作被称为线性组合。<br>形式上，一组向量的线性组合，是指每个向量乘以对应标量系数之后的和，即：<br>$$<br>\begin{equation}<br>    \sum_i c_i v^{(i)}.<br>\end{equation}<br>$$<br>一组向量的生成子空间是原始向量线性组合后所能抵达的点的集合。<br>确定$Ax=b$是否有解相当于确定向量$b$是否在$A$列向量的生成子空间中。这个特殊的生成子空间被称为$A$的列空间或者$A$的值域。<br>为了使方程$A x=b$对于任意向量$b \in R^m$都存在解，我们要求$A$的列空间构成整个$R^{m}$。如果$R^m$中的某个点不在$A$的列空间中，那么该点对应的$b$会使得该方程没有解。矩阵$A$的列空间是整个$R^m$的要求，意味着$A$至少有$m$列，即$n\geq m$。否则，$A$列空间的维数会小于$m$。例如，假设$A$是一个$3\times 2$的矩阵。目标$b$是$3$维的，但是$x$只有$2$维。所以无论如何修改$x$的值，也只能描绘出$R^3$空间中的二维平面。当且仅当向量$b$在该二维平面中时，该方程有解。<br>不等式$n\geq m$仅是方程对每一点都有解的必要条件。这不是一个充分条件，因为有些列向量可能是冗余的。假设有一个$R^{2\times 2}$中的矩阵，它的两个列向量是相同的。那么它的列空间和它的一个列向量作为矩阵的列空间是一样的。换言之，虽然该矩阵有$2$列，但是它的列空间仍然只是一条线，不能涵盖整个$R^2$空间。<br>正式地说，这种冗余被称为线性相关。如果一组向量中的任意一个向量都不能表示成其他向量的线性组合，那么这组向量称为线性无关。如果某个向量是一组向量中某些向量的线性组合，那么我们将这个向量加入这组向量后不会增加这组向量的生成子空间。这意味着，如果一个矩阵的列空间涵盖整个$R^m$，那么该矩阵必须包含至少一组$m$个线性无关的向量。这是对于每一个向量$b$的取值都有解的充分必要条件。<br>值得注意的是，这个条件是说该向量集恰好有$m$个线性无关的列向量，而不是至少$m$个。不存在一个$m$维向量的集合具有多于$m$个彼此线性不相关的列向量，但是一个有多于$m$个列向量的矩阵有可能拥有不止一个大小为$m$的线性无关向量集。要想使矩阵可逆，我们还需要保证\eqn?对于每一个$b$值至多有一个解。为此，我们需要确保该矩阵至多有$m$个列向量。否则，该方程会有不止一个解。<br>综上所述，这意味着该矩阵必须是一个方阵，即$m=n$，并且所有列向量都是线性无关的。一个列向量线性相关的方阵被称为奇异的。如果矩阵$A$不是一个方阵或者是一个奇异的方阵，该方程仍然可能有解。但是我们不能使用矩阵逆去求解。<br>目前为止，我们已经讨论了逆矩阵左乘。我们也可以定义逆矩阵右乘：</p>
<p>$$<br>\begin{equation}<br>AA^{-1}=I.<br>\end{equation}<br>$$<br>对于方阵而言，它的左逆和右逆是相等的。</p>
<h3 id="五、范数"><a href="#五、范数" class="headerlink" title="五、范数"></a>五、范数</h3><p>有时我们需要衡量一个向量的大小。在机器学习中，我们经常使用被称为范数的函数衡量向量大小。形式上，$L^p$范数定义如下<br>$$<br>\begin{equation}<br>    ||{x}_p|| = \left( \sum_i |x_i|^p \right)^{\frac{1}{p}}<br>\end{equation}<br>$$<br>其中$p\in R$，$p\geq 1$。</p>
<p>范数（包括$L^p$范数）是将向量映射到非负值的函数。直观上来说，向量$x$的范数衡量从原点到点$x$的距离。更严格地说，范数是满足下列性质的任意函数：</p>
<ul>
<li>$f(x) = 0 \Rightarrow x = \mathbf{0}$ </li>
<li>$f(x + y) \leq f(x) + f(y)$ （三角不等式）</li>
<li>$\forall \alpha \in R$, $f(\alpha x) = |\alpha| f(x)$</li>
</ul>
<p>当$p=2$时，$L^2$范数被称为欧几里得范数。它表示从原点出发到向量$x$确定的点的欧几里得距离。$L^2$范数在机器学习中出现地十分频繁，经常简化表示为$||{x}||$，略去了下标$2$。平方$L^2$范数也经常用来衡量向量的大小，可以简单地通过点积 $x^\top x$计算。平方$L^2$范数在数学和计算上都比$L^2$范数本身更方便。<br>例如，平方$L^2$范数对$x$中每个元素的导数只取决于对应的元素，而$L^2$范数对每个元素的导数却和整个向量相关。但是在很多情况下，平方$L^2$范数也可能不受欢迎，因为它在原点附近增长得十分缓慢。在某些机器学习应用中，区分恰好是零的元素和非零但值很小的元素是很重要的。在这些情况下，我们转而使用在各个位置斜率相同，同时保持简单的数学形式的函数：$L^1$范数。$L^1$范数可以简化如下：<br>$$<br>\begin{equation}<br>    ||{x}||_1 = \sum_i  |x_i|.<br>\end{equation}<br>$$<br>当机器学习问题中零和非零元素之间的差异非常重要时，通常会使用$L^1$范数。每当$x$中某个元素从$0$增加$\epsilon$，对应的$L^1$范数也会增加$\epsilon$。有时候我们会统计向量中非零元素的个数来衡量向量的大小。<br>另外一个经常在机器学习中出现的范数是$L^\infty$范数，也被称为\,最大范数。这个范数表示向量中具有最大幅值的元素的绝对值：<br>$$<br>\begin{equation}<br>    ||{x}||_\infty = \max_i |x_i|.<br>\end{equation}<br>$$<br>有时候我们可能也希望衡量矩阵的大小。在深度学习中，最常见的做法是使用Frobenius 范数$||{A}||_F$:</p>
<p>$$<br>\sqrt{\sum_{i,j} A_{i,j}^2}<br>$$</p>
<p>其类似于向量的$L^2$范数。<br>两个向量的点积可以用范数来表示。具体地，<br>$$<br>\begin{equation}<br>    x^\top y = ||{x}||_2||{y}||_2 \cos \theta<br>\end{equation}<br>$$<br>其中$\theta$表示$x$和$y$之间的夹角。</p>
<h3 id="六、特殊类型的矩阵和向量"><a href="#六、特殊类型的矩阵和向量" class="headerlink" title="六、特殊类型的矩阵和向量"></a>六、特殊类型的矩阵和向量</h3><p>有些特殊类型的矩阵和向量是特别有用的。</p>
<p>对角矩阵只在主对角线上含有非零元素，其他位置都是零。形式上，矩阵$D$是对角矩阵，当且仅当对于所有的$i\neq j$，$D_{i,j}=0$。我们已经看到过一个对角矩阵：单位矩阵，对角元素全部是$1$。我们用$\text{diag}(v)$表示一个对角元素由向量$v$中元素给定的对角方阵。对角矩阵受到关注的部分原因是对角矩阵的乘法计算很高效。计算乘法$\text{diag}(v)x$，我们只需要将$x$中的每个元素$x_i$放大$v_i$倍。换言之，$\text{diag}(v)x=v \odot x$。计算对角方阵的逆矩阵也很高效。<br>对角方阵的逆矩阵存在，当且仅当对角元素都是非零值，在这种情况下，$\text{diag}(v)^{-1}=\text{diag}([1/v_1,\dots,1/v_n]^\top)$。在很多情况下，我们可以根据任意矩阵导出一些通用的机器学习算法；但通过将一些矩阵限制为对角矩阵，我们可以得到计算代价较低的（并且简明扼要的）算法。<br>不是所有的对角矩阵都是方阵。长方形的矩阵也有可能是对角矩阵。非方阵的对角矩阵没有逆矩阵，但我们仍然可以高效地计算它们的乘法。对于一个长方形对角矩阵$D$而言，乘法$Dx$会涉及到$x$中每个元素的缩放，如果$D$是瘦长型矩阵，那么在缩放后的末尾添加一些零；如果$D$是胖宽型矩阵，那么在缩放后去掉最后一些元素。<br>对称矩阵是转置和自己相等的矩阵：<br>$$<br>\begin{equation}<br>    A=A^\top.<br>\end{equation}<br>$$<br>当某些不依赖参数顺序的双参数函数生成元素时，对称矩阵经常会出现。例如，如果$A$是一个距离度量矩阵，$A_{i,j}$表示点$i$到点$j$的距离，那么$A_{i,j}=A_{j,i}$，因为距离函数是对称的。<br>单位向量是具有单位范数的向量：<br>$$<br>\begin{equation}<br>||{x}||_2=1.<br>\end{equation}<br>$$<br>如果$x^\top y = 0$，那么向量$x$和向量$y$互相正交。如果两个向量都有非零范数，那么这两个向量之间的夹角是$90$度。在$R^n$中，至多有$n$个范数非零向量互相正交。如果这些向量不仅互相正交，并且范数都为$1$，那么我们称它们是标准正交。<br>正交矩阵是指行向量和列向量是分别标准正交的方阵：<br>$$<br>\begin{equation}<br>    A^\top A=AA^\top=I.<br>\end{equation}<br>$$<br>这意味着<br>$$<br>\begin{equation}<br>    A^{-1}=A^\top,<br>\end{equation}<br>$$<br>所以正交矩阵受到关注是因为求逆计算代价小。我们需要注意正交矩阵的定义。违反直觉的是，正交矩阵的行向量不仅是正交的，还是标准正交的。对于行向量或列向量互相正交但不是标准正交的矩阵，没有对应的专有术语。</p>
<h3 id="七、特征分解"><a href="#七、特征分解" class="headerlink" title="七、特征分解"></a>七、特征分解</h3><p>许多数学对象可以通过将它们分解成多个组成部分或者找到它们的一些属性而更好地理解，这些属性是通用的，而不是由我们选择表示它们的方式产生的。<br>例如，整数可以分解为质因数。我们可以用十进制或二进制等不同方式表示整数$12$，但是$12=2\times 2\times 3$永远是对的。从这个表示中我们可以获得一些有用的信息，比如$12$不能被$5$整除，或者$12$的倍数可以被$3$整除。正如我们可以通过分解质因数来发现整数的一些内在性质，我们也可以通过分解矩阵来发现矩阵表示成数组元素时不明显的函数性质。<br>特征分解是使用最广的矩阵分解之一，即我们将矩阵分解成一组特征向量和特征值。<br>方阵$A$的特征向量是指与$A$相乘后相当于对该向量进行缩放的非零向量$sv$：<br>$$<br>\begin{equation}<br>    Av=\lambda v.<br>\end{equation}<br>$$<br>标量$\lambda$被称为这个特征向量对应的特征值。（类似地，我们也可以定义左特征向量 $v^\top A=\lambda v^\top$，但是通常我们更关注右特征向量）。<br>如果$v$是$A$的特征向量，那么任何缩放后的向量$sv$~($s\in R$，$s\neq 0$)也是$A$的特征向量。此外，$sv$和$v$有相同的特征值。基于这个原因，通常我们只考虑单位特征向量。<br>假设矩阵$A$有$n$个线性无关的特征向量${v^{(1)}, \dots, v^{(n)}}$，对应着特征值${\lambda_1, \dots , \lambda_n }$。我们将特征向量连接成一个矩阵，使得每一列是一个特征向量：$V=[v^{(1)}, \dots, v^{(n)}]$.类似地，我们也可以将特征值连接成一个向量$\lambda = [\lambda_1, \dots , \lambda_n]^\top$。<br>因此$A$的特征分解可以记作<br>$$<br>\begin{equation}<br>    A = V \text{diag}(\lambda) V^{-1}.<br>\end{equation}<br>$$<br>我们已经看到了\emph{构建}具有特定特征值和特征向量的矩阵，能够使我们在目标方向上延伸空间。我们还常常希望将矩阵分解成特征值和特征向量。这样可以帮助我们分析矩阵的特定性质，就像质因数分解有助于我们理解整数。<br>不是每一个矩阵都可以分解成特征值和特征向量。在某些情况下，特征分解存在，但是会涉及复数而非实数。幸运的是，在本书中，我们通常只需要分解一类有简单分解的矩阵。具体来讲，每个实对称矩阵都可以分解成实特征向量和实特征值：<br>$$<br>\begin{equation}<br>    A = Q \Lambda Q^\top.<br>\end{equation}<br>$$<br>其中$Q$是$A$的特征向量组成的正交矩阵，$\Lambda$是对角矩阵。特征值$\Lambda_{i,i}$对应的特征向量是矩阵$Q$的第$i$列，记作$Q_{:,i}$。因为$Q$是正交矩阵，我们可以将$A$看作沿方向$v^{(i)}$延展$\lambda_i$倍的空间。<br>虽然任意一个实对称矩阵$A$都有特征分解，但是特征分解可能并不唯一。如果两个或多个特征向量拥有相同的特征值，那么在由这些特征向量产生的生成子空间中，任意一组正交向量都是该特征值对应的特征向量。因此，我们可以等价地从这些特征向量中构成$Q$作为替代。按照惯例，我们通常按降序排列$\Lambda$的元素。在该约定下，特征分解唯一当且仅当所有的特征值都是唯一的。<br>矩阵的特征分解给了我们很多关于矩阵的有用信息。矩阵是奇异的当且仅当含有零特征值。实对称矩阵的特征分解也可以用于优化二次方程$f(x) = x^\top A x$，其中限制$||{x}||_2 = 1$。当$x$等于$A$的某个特征向量时，$f$将返回对应的特征值。在限制条件下，函数$f$的最大值是最大特征值，最小值是最小特征值。<br>所有特征值都是正数的矩阵被称为正定；所有特征值都是非负数的矩阵被称为半正定。同样地，所有特征值都是负数的矩阵被称为负定；所有特征值都是非正数的矩阵被称为半负定。半正定矩阵受到关注是因为它们保证$\forall x, x^\top A x \geq 0$。此外，正定矩阵还保证$x^\top A x =0 \Rightarrow x = \mathbf{0}$。</p>
<h3 id="八、奇异值分解"><a href="#八、奇异值分解" class="headerlink" title="八、奇异值分解"></a>八、奇异值分解</h3><p>还有另一种分解矩阵的方法，被称为奇异值分解，将矩阵分解为奇异向量和奇异值。通过奇异值分解，我们会得到一些与特征分解相同类型的信息。<br>然而，奇异值分解有更广泛的应用。每个实数矩阵都有一个奇异值分解，但不一定都有特征分解。例如，非方阵的矩阵没有特征分解，这时我们只能使用奇异值分解。<br>回想一下， 我们使用特征分解去分析矩阵$A$时， 得到特征向量构成的矩阵$V$和特征值构成的向量$\lambda$，我们可以重新将$A$写作<br>$$<br>\begin{equation}<br>    A=V\text{diag}(\lambda)V^{-1}.<br>\end{equation}<br>$$<br>奇异值分解是类似的，只不过这回我们将矩阵$A$分解成三个矩阵的乘积：<br>$$<br>\begin{equation}<br>    A=UDV^\top.<br>\end{equation}<br>$$<br>假设$A$是一个$m\times n$的矩阵，那么$U$是一个$m\times m$的矩阵，$D$是一个$m\times n$的矩阵，$V$是一个$n\times n$矩阵。<br>这些矩阵中的每一个经定义后都拥有特殊的结构。矩阵$U$和$V$都定义为正交矩阵，而矩阵$D$定义为对角矩阵。注意，矩阵$D$不一定是方阵。<br>对角矩阵$D$对角线上的元素被称为矩阵$A$的奇异值。矩阵$U$的列向量被称为左奇异向量，矩阵$V$的列向量被称右奇异向量。<br>事实上，我们可以用与$A$相关的特征分解去解释$A$的奇异值分解。$A$的左奇异向量是$AA^\top$的特征向量。$A$的右奇异向量是$A^\top A$的特征向量。$A$的非零奇异值是$A^\top A$特征值的平方根，同时也是$AA^\top$特征值的平方根。<br>SVD最有用的一个性质可能是拓展矩阵求逆到非方矩阵上。我们将在下一节中探讨。</p>
<h3 id="九、Moore-Penrose-伪逆"><a href="#九、Moore-Penrose-伪逆" class="headerlink" title="九、Moore-Penrose 伪逆"></a>九、Moore-Penrose 伪逆</h3><p>对于非方矩阵而言，其逆矩阵没有定义。假设在下面的问题中，我们希望通过矩阵$A$的左逆$B$来求解线性方程<br>$$<br>\begin{equation}<br>    Ax=y<br>\end{equation}<br>$$<br>等式两边左乘左逆$B$后，我们得到<br>$$<br>\begin{equation}<br>    x=By.<br>\end{equation}<br>$$<br>取决于问题的形式，我们可能无法设计一个唯一的映射将$A$映射到$B$。如果矩阵$A$的行数大于列数，那么上述方程可能没有解。如果矩阵$A$的行数小于列数，那么上述矩阵可能有多个解。<br>Moore-Penrose 伪逆使我们在这类问题上取得了一定的进展。<br>矩阵$A$的伪逆定义为：<br>$$<br>\begin{equation}<br>    A^+ = \lim_{\alpha \searrow 0} (A^\top A + \alpha I)^{-1} A^\top.<br>\end{equation}<br>$$<br>计算伪逆的实际算法没有基于这个定义，而是使用下面的公式：<br>$$<br>\begin{equation}<br>    A^+ = VD^+U^\top.<br>\end{equation}<br>$$<br>其中，矩阵$U$，$D$和$V$是矩阵$A$奇异值分解后得到的矩阵。对角矩阵$D$的伪逆$D^+$是其非零元素取倒数之后再转置得到的。当矩阵$A$的列数多于行数时，使用伪逆求解线性方程是众多可能解法中的一种。特别地，$x=A^+y$是方程所有可行解中欧几里得范数$||{x}||_2$最小的一个。当矩阵$A$的行数多于列数时，可能没有解。在这种情况下，通过伪逆得到的$x$使得$Ax$和$y$的欧几里得距离$||{Ax-y}||_2$最小。</p>
<h3 id="十、迹运算"><a href="#十、迹运算" class="headerlink" title="十、迹运算"></a>十、迹运算</h3><p>迹运算返回的是矩阵对角元素的和：<br>$$<br>\begin{equation}<br>    Tr(A)= \sum_i A_{i,i}.<br>\end{equation}<br>$$<br>迹运算因为很多原因而有用。若不使用求和符号，有些矩阵运算很难描述，而通过矩阵乘法和迹运算符号可以清楚地表示。例如，迹运算提供了另一种描述矩阵Frobenius 范数的方式：<br>$$<br>\begin{equation}<br>    ||{A}||_F = \sqrt{\text{Tr}(A A^\top)}.<br>\end{equation}<br>$$<br>用迹运算表示表达式，我们可以使用很多有用的等式巧妙地处理表达式。例如，迹运算在转置运算下是不变的：<br>$$<br>\begin{equation}<br>    Tr(A)=Tr(A^\top).<br>\end{equation}<br>$$<br>多个矩阵相乘得到的方阵的迹，和将这些矩阵中的最后一个挪到最前面之后相乘的迹是相同的。<br>当然，我们需要考虑挪动之后矩阵乘积依然定义良好：<br>$$<br>\begin{equation}<br>Tr(ABC)=Tr(CAB)= Tr(BCA).<br>\end{equation}<br>$$<br>或者更一般地，<br>$$<br>\begin{equation}<br>Tr(\prod{i=1}^n F^{(i)})= Tr(F^{(n)} \prod{i=1}^{n-1} F^{(i)}).<br>\end{equation}<br>$$</p>
<p>即使循环置换后矩阵乘积得到的矩阵形状变了，迹运算的结果依然不变。例如，假设矩阵$A\in R^{m\times n}$，矩阵$B\in R^{n\times m}$，我们可以得到<br>$$<br>\begin{equation}<br>    Tr(AB)= Tr(BA)<br>\end{equation}<br>$$<br>尽管$AB \in R^{m\times m}$和$BA \in R^{n\times n}$。<br>另一个有用的事实是标量在迹运算后仍然是它自己：$a=Tr(a)$。</p>
<h3 id="十一、深度学习中的应用：主成分分析"><a href="#十一、深度学习中的应用：主成分分析" class="headerlink" title="十一、深度学习中的应用：主成分分析"></a>十一、深度学习中的应用：主成分分析</h3><p>主成分分析是一个简单的机器学习算法，可以通过基础的线性代数知识推导。<br>假设在$R^n$空间中我们有$m$个点${x^{(1)}, \dots ,x^{(m)}}$，我们希望对这些点进行有损压缩。有损压缩表示我们使用更少的内存，但损失一些精度去存储这些点。我们希望损失的精度尽可能少。<br>一种编码这些点的方式是用低维表示。对于每个点$x^{(i)} \in R^n$，会有一个对应的编码向量$c^{(i)}\in R^l$。如果$l$比$n$小，那么我们便使用了更少的内存来存储原来的数据。我们希望找到一个编码函数，根据输入返回编码，$f(x)=c$；我们也希望找到一个解码函数，给定编码重构输入，$x\approx g(f(x))$。PCA~由我们选择的解码函数而定。具体地，为了简化解码器，我们使用矩阵乘法将编码映射回$R^n$，即$g(c)=Dc$，其中$D\in R^{n\times l}$是定义解码的矩阵。<br>目前为止所描述的问题，可能会有多个解。因为如果我们按比例地缩小所有点对应的编码向量$c_i$，那么我们只需按比例放大$D_{:,i}$，即可保持结果不变。为了使问题有唯一解，我们限制$D$中所有列向量都有单位范数。<br>计算这个解码器的最优编码可能是一个困难的问题。为了使编码问题简单一些，PCA,限制$D$的列向量彼此正交（注意，除非$l=n$，否则严格意义上$D$不是一个正交矩阵）。为了将这个基本想法变为我们能够实现的算法，首先我们需要明确如何根据每一个输入$x$得到一个最优编码$c$。<br>一种方法是最小化原始输入向量$x$和重构向量$g(c)$之间的距离。我们使用范数来衡量它们之间的距离。<br>在PCA算法中，我们使用$L^2$范数：<br>$$<br>\begin{equation}<br>    c = \underset{c}{\arg\min} ||{x-g(c)}||_2.<br>\end{equation}<br>$$<br>我们可以用平方$L^2$范数替代$L^2$范数，因为两者在相同的值$c$上取得最小值。<br>这是因为$L^2$范数是非负的，并且平方运算在非负值上是单调递增的。<br>$$<br>\begin{equation}<br>    c = argmin{c} ||{x - g(c)}||2^2.<br>\end{equation}<br>$$<br>该最小化函数可以简化成<br>$$<br>\begin{equation}<br>(x-g(c))^\top(x-g(c))<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = x^\top x - x^\top g(c) - g(c)^\top x + g(c)^\top g(c)<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = x^\top x - 2x^\top g(c) + g(c)^\top g(c)<br>\end{equation}<br>$$</p>
<p>(因为标量$g(c)^\top x​$的转置等于自己)</p>
<p>因为第一项$x^\top x$不依赖于$c$，所以我们可以忽略它，得到如下的优化目标：<br>$$<br>\begin{equation}<br>c = \underset{c}{\arg\min} - 2x^\top g(c) + g(c)^\top g(c).<br>\end{equation}<br>$$<br>更进一步，我们代入$g(c)$的定义：<br>$$<br>\begin{equation}<br>    c = \underset{c}{\arg\min} - 2x^\top Dc + c^\top D^\top Dc<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = \underset{c}{\arg\min} -2x^\top Dc + c^\top I _lc<br>\end{equation}<br>$$</p>
<p>(矩阵$D$的正交性和单位范数约束)<br>$$<br>\begin{equation}<br>    = \underset{c}{\arg\min} -2x^\top Dc + c^\top c<br>\end{equation}<br>$$<br>我们可以通过向量微积分来求解这个最优化问题<br>$$<br>\begin{gather}<br>    \nabla_{c} (-2x^\top D c + c^\top c) = 0\<br>    -2D^\top x + 2c = 0\<br>    c = D^\top x.<br>\end{gather}<br>$$<br>这使得算法很高效：最优编码$x$只需要一个矩阵-向量乘法操作。<br>为了编码向量，我们使用编码函数：<br>$$<br>\begin{equation}<br>    f(x)=D^\top x.<br>\end{equation}<br>$$<br>进一步使用矩阵乘法，我们也可以定义\,PCA\,重构操作：<br>$$<br>\begin{equation}<br>    r(x)=g(f(x)) = DD^\top x.<br>\end{equation}<br>$$<br>接下来，我们需要挑选编码矩阵$D$。要做到这一点，我们回顾最小化输入和重构之间$L^2$距离的这个想法。因为用相同的矩阵$D$对所有点进行解码，我们不能再孤立地看待每个点。反之，我们必须最小化所有维数和所有点上的误差矩阵的Frobenius 范数：<br>$$<br>\begin{equation}<br>    D =  \underset{D}{\arg\min} \sqrt{\sum_{i,j}\left( x_j^{(i)} - r(x^{(i)})_j\right)^2} \text{ subject to } D^\top D = I_l.<br>\end{equation}<br>$$<br>为了推导用于寻求$D$的算法，我们首先考虑$l=1$的情况。在这种情况下，$D$是一个单一向量$d$。将\eqn?代入\eqn?，简化$D$为$d$，问题简化为<br>$$<br>\begin{equation}<br>    d = \underset{d}{\arg\min} \sum_i ||{x^{(i)} - dd^\top x^{(i)}}||_2^2<br>    \text{ subject to } ||{d}||_2 = 1.<br>\end{equation}<br>$$<br>上述公式是直接代入得到的，但不是文体表述最舒服的方式。在上述公式中，我们将标量$d^\top x^{(i)}$放在向量$d$的右边。将该标量放在左边的写法更为传统。于是我们通常写作<br>$$<br>\begin{equation}<br>    d = \underset{d}{\arg\min} \sum_i ||{x^{(i)} - d^\top x^{(i)}d}||_2^2<br>        \text{ subject to } ||{d}||_2 = 1,<br>\end{equation}<br>$$</p>
<p>此时，使用单一矩阵来重述问题，比将问题写成求和形式更有帮助。这有助于我们使用更紧凑的符号。将表示各点的向量堆叠成一个矩阵，记为$X\in R^{m\times n}$，其中$X_{i,:}=x^{(i)^\top}$。原问题可以重新表述为：<br>$$<br>\begin{equation}<br>    d = \underset{d}{\arg\min} ||{X - Xdd^\top}||_F^2<br>        \text{ subject to } d^\top d = 1.<br>\end{equation}<br>$$<br>暂时不考虑约束，我们可以将Frobenius 范数简化成下面的形式：<br>$$<br>\begin{equation}<br>     \underset{d}{\arg\min} ||{X - X dd^\top}||_F^2<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = \underset{d}{\arg\min} \, Tr \left( \left( X - X dd^\top  \right)^\top \left( X - X dd^\top  \right) \right)<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = \underset{d}{\arg\min} \, Tr \left( X^\top X - X^\top X dd^\top - dd^\top X^\top X + dd^\top  X^\top Xdd^\top  \right)<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = \underset{d}{\arg\min} \, Tr( X^\top X)  - Tr(X^\top X dd^\top)  - Tr(dd^\top X^\top X) + Tr(dd^\top  X^\top Xdd^\top)<br>\end{equation}<br>$$</p>
<p>（因为与$d$无关的项不影响$\arg\min$）<br>$$<br>\begin{equation}<br>    = \underset{d}{\arg\min} \, - 2Tr(X^\top X dd^\top) + Tr(dd^\top  X^\top Xdd^\top)<br>\end{equation}<br>$$<br>（因为循环改变迹运算中相乘矩阵的顺序不影响结果）<br>$$<br>\begin{equation}<br>    = \underset{d}{\arg\min} \, - 2Tr(X^\top X dd^\top) + Tr(X^\top Xdd^\top dd^\top )<br>\end{equation}<br>$$<br>（再次使用上述性质）</p>
<p>此时，我们再来考虑约束条件:<br>$$<br>\begin{equation}<br>    \underset{d}{\arg\min} \, - 2Tr(X^\top X dd^\top) + Tr(X^\top Xdd^\top dd^\top )<br>    \text{ subject to } d^\top d = 1<br>\end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>    = \underset{d}{\arg\min} \, - 2Tr(X^\top X d d^\top) + Tr(X^\top Xdd^\top )<br>    \text{ subject to } d^\top d = 1<br>\end{equation}<br>$$</p>
<p> (因为约束条件)<br>$$<br> \begin{equation}<br>     = \underset{d}{\arg\min} \, - Tr(X^\top X dd^\top)<br>     \text{ subject to } d^\top d = 1<br> \end{equation}<br>$$</p>
<p>$$<br> \begin{equation}<br>     = \underset{d}{\arg\max} \, Tr(X^\top X dd^\top)<br>     \text{ subject to } d^\top d = 1<br> \end{equation}<br>$$</p>
<p>$$<br>\begin{equation}<br>     = \underset{d}{\arg\max} \, Tr(d^\top X^\top X d)<br>     \text{ subject to } d^\top d = 1 .<br> \end{equation}<br>$$</p>
<p>这个优化问题可以通过特征分解来求解。具体来讲，最优的$d$是$X^\top X$最大特征值对应的特征向量。<br>以上推导特定于$l=1$的情况， 仅得到了第一个主成分。更一般地，当我们希望得到主成分的基时，矩阵$D$由前$l$个最大的特征值对应的特征向量组成。</p>

      
    </div>
    
    
    

    <div>
  		
    		<div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">本文结束------<i class="fa fa-pagelines"></i>------感谢阅读</div>
    
</div>

  		
	</div>

    

    

    
      <div>
        <div class="post-copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2017/12/18/2017-12-18-matrix-yingyong/">矩阵理论在深度学习中的应用即主成分分析</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 Knives 的个人博客">Knives</a></p>
  <p><span>发布时间:</span>2017年12月18日 - 15:12</p>
  <p><span>原始链接:</span><a href="/2017/12/18/2017-12-18-matrix-yingyong/" title="矩阵理论在深度学习中的应用即主成分分析">http://knivezee.site/2017/12/18/2017-12-18-matrix-yingyong/</a>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://knivezee.site/2017/12/18/2017-12-18-matrix-yingyong/" aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
      $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
        });
    });  
</script>
      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/math/" <i="" class="fa fa-tag"> math</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/11/15/2016-11-05-write-to-shaohua/" rel="next" title="写给韶华">
                <i class="fa fa-chevron-left"></i> 写给韶华
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/15/2018-05-15-alogthrin-analise/" rel="prev" title="算法分析基础">
                算法分析基础 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="http://pj5mfieap.bkt.clouddn.com/avatar.jpg" alt="Knives">
            
              <p class="site-author-name" itemprop="name">Knives</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

			<!--my custom code begin-->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js"></script>
			<script type="text/javascript">
			  $("#sidebar").hover(function(){
				$("#mydivshow").velocity('stop').velocity({opacity: 1});
			  },function(){
				$("#mydivshow").velocity('stop').velocity({opacity: 0});
			  });
			</script>
			<div id="mydivshow" class="mydivshow">
			<!--my custom code end-->
			
          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/kniveszee" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:kniveszee@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://weibo.com/kniveszee" target="_blank" title="微博">
                    
                      <i class="fa fa-fw fa-weibo"></i>微博</a>
                </span>
              
            
          </div>

          
          

          
          

          <div id="player1" class="aplayer"></div>
<script src="/js/src/APlayer.min.js"></script>
<script type="text/javascript">
var ap = new APlayer({
    element: document.getElementById('player1'),                       // Optional, player element
    narrow: false,                                                     // Optional, narrow style
    autoplay: false,                                                    // Optional, autoplay song(s), not supported by mobile browsers
    showlrc: 0,                                                        // Optional, show lrc, can be 0, 1, 2, see: ###With lrc
    mutex: true,                                                       // Optional, pause other players when this player playing
    theme: '#e6d0b2',                                                  // Optional, theme color, default: #b7daff
    mode: 'random',                                                    // Optional, play mode, can be `random` `single` `circulation`(loop) `order`(no loop), default: `circulation`
    preload: 'metadata',                                               // Optional, the way to load music, can be 'none' 'metadata' 'auto', default: 'auto'
    listmaxheight: '513px',                                             // Optional, max height of play list
    music: {                                                           // Required, music info, see: ###With playlist
        title: 'Uncharted',                                          // Required, music title
        author: 'Jeremy Lim',                          // Required, music author
        url: 'http://pj5mfieap.bkt.clouddn.com/Jeremy%20Lim%20-%20Uncharted%20%28Original%20Mix%29.mp3',  // Required, music url
        pic: 'http://pj5mfieap.bkt.clouddn.com/IMG_7714.JPG',  // Optional, music picture
    }
});
</script>
        </div>
		<!--my custom code begin-->
		</div>
		<!--my custom code end-->
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#一、标量、向量、矩阵和张量"><span class="nav-number">1.</span> <span class="nav-text">一、标量、向量、矩阵和张量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二、矩阵和向量相乘"><span class="nav-number">2.</span> <span class="nav-text">二、矩阵和向量相乘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三、单位矩阵和逆矩阵"><span class="nav-number">3.</span> <span class="nav-text">三、单位矩阵和逆矩阵</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#四、线性相关和生成子空间"><span class="nav-number">4.</span> <span class="nav-text">四、线性相关和生成子空间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#五、范数"><span class="nav-number">5.</span> <span class="nav-text">五、范数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#六、特殊类型的矩阵和向量"><span class="nav-number">6.</span> <span class="nav-text">六、特殊类型的矩阵和向量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#七、特征分解"><span class="nav-number">7.</span> <span class="nav-text">七、特征分解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#八、奇异值分解"><span class="nav-number">8.</span> <span class="nav-text">八、奇异值分解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#九、Moore-Penrose-伪逆"><span class="nav-number">9.</span> <span class="nav-text">九、Moore-Penrose 伪逆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#十、迹运算"><span class="nav-number">10.</span> <span class="nav-text">十、迹运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#十一、深度学习中的应用：主成分分析"><span class="nav-number">11.</span> <span class="nav-text">十一、深度学习中的应用：主成分分析</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Knives</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">37.1k</span>
  
</div>






<!--
  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div>
-->



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>




  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("", "");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.3"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.3"></script>


  
  <script type="text/javascript" src="/js/src/exturl.js?v=5.1.3"></script>


  <script src="/js/src/Aplayer-Controler.js"></script>
<div id="AP-controler"></div>
<script type="text/javascript">
var myapc=new APlayer_Controler({
		APC_dom:$('#AP-controler'),
		aplayer:ap, //此为绑定的aplayer对象
		attach_right:false,
		position:{top:'300px',bottom:''},
		fixed:true,
		btn_width:100,
		btn_height:120,
		img_src:['http://oty1v077k.bkt.clouddn.com/bukagirl.jpg',
				'http://oty1v077k.bkt.clouddn.com/pentigirl.jpg'],
		img_style:{repeat:'no-repeat',position:'center',size:'contain'},
		ctrls_color:'rgba(173,255,47,0.8)',
		ctrls_hover_color:'rgba(255,140,0,0.7)',
		tips_on:true,
		tips_width:140,
		tips_height:25,
		tips_color:'rgba(255,255,255,0.6)',
		tips_content:{},
		timeout:30
	});
</script>
  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!-- 页面点击小红心 -->

<script type="text/javascript" src="/js/src/love.js"></script>





  <scripttype="text javascript"color="255,0,0" opacity="0.5" count="10" src="/lib/canvas-nest/canvas-nest.min.js">


</scripttype="text></body>
</html>
